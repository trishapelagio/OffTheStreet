<!DOCTYPE html>
<html>
<head>
	<title>Admin Home</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- JS, Popper.js, and jQuery -->
	<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
	<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
	<script defer src="https://use.fontawesome.com/releases/v5.0.13/js/all.js" integrity="sha384-xymdQtn1n3lH2wcu0qhcdaOpQwyoarkgLVxC/wZ5q7h9gHtxICrpcaSUfygqZGOe" crossorigin="anonymous"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>

	
	<script src="javascript/script.js"></script>
	<script src="javascript/admin.js"></script>
	
	<link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300&display=swap" rel="stylesheet">
	
	<link rel="stylesheet" href="css/adminhome-styles.css">
	<link rel="stylesheet" href="css/admin-product-page.css">

</head>

<body>
	<!--navbar-->
	<nav class="navbar navbar-expand-md navbar-light">
		<button class="navbar-toggler ml-auto mb-2 bg-light" type="button" data-toggle="collapse" data-target="#myNavbar">
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse" id="myNavbar">
			<div class="container-fluid">
				<div class="row">
					<!--sidebar-->
					<div class="col-xl-2 col-lg-3 col-md-4 sidebar fixed-top">
						<a href="#" class="navbar-brand text-white d-block mx-auto text-center py-3 mb-4 bottom-border"><img src="images/FINAL_LOGO W- CIRCLE B.png" class="img-logo"></a>
						<div class="bottom-border pb-3">
							<img src="images/icon.png" width="50" class="rounded-circle mr-3">
							<a class="text-white">Admin</a>
						</div>
						<ul class="navbar-nav flex-column mt-4">

							<li class="nav-item"><a href="adminHome" class="nav-link text-white p-3 mb-2 sidebar-link"><i class="fas fa-home text-light fa-lg mr-3"></i>Dashboard</a></li>
							<li class="nav-item"><a href="adminProduct" class="nav-link text-white p-3 mb-2 current"><i class="fas fa-shopping-basket text-white fa-lg mr-3"></i>Product</a></li>
							<li class="nav-item"><a href="#collapseOrder" data-toggle="collapse" class="nav-link text-white p-3 mb-2 sidebar-link" aria-expanded="false" aria-controls="collapseOrder"><i class="fas fa-shopping-cart text-light fa-lg mr-3"></i>Orders</a>
								<div class="collapse" id="collapseOrder">
									<div class="sidebar-sub">
									  <ul class="navbar-nav flex-column">
											<li class="nav-item ">
												<a class="nav-link text-white sidebar-link sidebar-subtext" href="adminOrder">View All Orders</a>
											</li>
										 	<li class="nav-item">
												  <a class="nav-link text-white sidebar-link sidebar-subtext" href="adminOrderPending">View Pending Orders</a>
											</li>
											<li class="nav-item ">
											<a class="nav-link text-white sidebar-link sidebar-subtext" href="adminOrderConfirmed">View Confirmed Orders</a>
											</li>
									  </ul>
									</div>
								</div>
							</li>
							<li class="nav-item"><a href="/logout" class="nav-link text-white p-3 mb-2 sidebar-link"><i class="fa fa-sign-out-alt text-white fa-lg mr-3"></i>Logout</a></li>
						</ul>
					</div>
					
					
					<!--sidebar end-->
					
					<!--top-nav-->
					<div class="col-xl-10 col-lg-9 col-md-8 ml-auto fixed-top py-2 top-navbar">
						<div class="row align-items-center">
							<div class="col-md-4">
								<h4 class="text-light text-uppercase mb-0">OFF THE STREET</h4>
							</div>
						</div>
					<!--top-nav end-->
					</div>
				</div>
			</div>
		</div>
	</nav>
	
	<section>
		<div class="container-fluid">
			<div class="row mb-5">
				<div class="col-xl-10 col-lg-9 col-md-8 ml-auto">
					<div class="row align-items-center">
						<!--Products-->
						<div class="col-xl-12 col-12 mt-5">
							<h3 class="text-muted text-center mb-3 mt-2">All Products</h3>
							<button type="button" class="btn btn-dark" data-toggle="modal" id="addproduct" data-target="#newProductModal">Add a New Product</button>
							<table class="table table-dark table-hover text-center">
								<thead>
									<tr class="text-muted">
										<th>#</th>
										<th>Name</th>
										<th>Description</th>
										<th>Price</th>
										<th>Variation</th>
										<th>Quantity</th>
										<th>Category</th>
										<th>Edit</th>
										<th>Remove</th>
									</tr>
								</thead>
								<tbody>
									{{#each products}}
								
									<tr id={{_id}}>
									<th>{{number}}</th>
									<td><a href="/productDetails?id={{_id}}" class="text-white" target="_blank">{{name}}</a></td>
									<td>{{description}}</td>
									<td>PHP {{price}}</td>
									<td>{{variation}}</td>
									<td>{{quantity}}</td>
									<td>{{category}}</td>
									<td><button type="button" class="btn btn-warning text-white" data-toggle="modal" data-target="#edit{{_id}}"><i class="fas fa-edit"></i></button></td>
									<div class="modal fade bd-example-modal-xl" id="edit{{_id}}" tabindex="- 1" role="dialog" aria-labelledby="editProductModal" aria-hidden="true">
										<div class="modal-dialog modal-xl">
											<div class="modal-content">
												<div class="modal-header">
													<h5 class="modal-title h4">Editing Product</h5>
													<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
												</div>
												<div class="modal-body">
													<form method="post" action="/editProduct"  enctype="multipart/form-data">	
															<input type="hidden" value={{_id}} name="id">
														<div class="form-group">
															<label for="product-name" class="col-form-label">Name</label>
															<input type="text" class="form-control" value="{{name}}" name="name" required>
															<label for="product-description" class="col-form-label">Description</label>
															<input type="text" class="form-control" value="{{description}}" name="description">
															<label for="product-color" class="col-form-label">Color</label>
															<input type="text" class="form-control" value="{{color}}" name="color" required>
															<div class="form-group">
																<label for="inputStateVar{{_id}}">Variation</label>
																<select id="inputStateVar{{_id}}" class="form-control addVariation" name="variation">
																	<option value={{variation}} selected hidden>{{variation}}</option>
																	<option value="XS">XS</option>
																	<option value="S">S</option>
																	<option value="M">M</option>
																	<option value="L">L</option>
																	<option value="XL">XL</option>
																</select>
															</div>
															<label for="product-description" class="col-form-label">Quantity</label>
															<input type="text" class="form-control" value={{quantity}} name="quantity" required>
														</div>
														<div class="form-group">
															<label for="inputState{{_id}}">Category</label>
															<select id="inputState{{_id}}" class="form-control" name="category">
																<option value={{category}} selected hidden>{{category}}</option>
																<option value="shirt">Shirt</option>
																<option value="hoodie">Hoodie</option>
																<option value="longsleeve">Longsleece</option>
																<option value="shorts">Shorts</option>
																<option value="pants">Pants</option>
																<option value="hat">Hat</option>
																<option value="beanie">Beanie</option>
																<option value="bag">Bag</option>
															</select>
														</div>
														<div class="form-row mt-2">
															<div class="col">
																<label for="price">Price</label>
																<input type="text" class="form-control" value={{price}} name="price" required>
															</div>
															
														</div>
													
														<div class="container-fluid">
															<div class="form-group mt-3">
																<div class="custom-file">
																	<label class="custom-file-label" for="pro-image{{_id}}">Choose Images</label>
																	<input type="hidden" name="prevpic" value={{pictures}}>
																	<input type="file" class="form-control custom-file-input" id="pro-image{{_id}}" name="images" accept='image/x-ong,image/gif,image/jpeg'>
																</div>
															</div>
														</div>
														<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
													<button type="submit" class="btn btn-dark">Save changes</button>
												</div>
													</form>
												</div>
											</div>
										</div>
									</div>
									<td>
										{{!-- <button type="button" class="btn btn-danger text-white" data-toggle="modal" data-target="#removeProductModal"><i class="fa fa-trash" aria-hidden="true"></i></button> --}}
										<button type="button" class="btn btn-danger text-white del-btn" id={{_id}} name="{{name}}"><i class="fa fa-trash" aria-hidden="true"></i></button>
									</td>
									<div class="modal fade bd-example-modal-md" id="removeProductModal" tabindex="- 1" role="dialog" aria-labelledby="removeProductModal" aria-hidden="true">
										<div class="modal-dialog modal-md">
											<div class="modal-content">
												<div class="modal-header flex-column">
													<h5 class="modal-title h4">Are you sure?</h5>
													<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
												</div>
				
												<div class="modal-body">
													<p>Are you sure you want to delete this record? This cannot be undone.</p>
												</div>
													
												<div class="modal-footer">
													<button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
													<button type="button" class="btn btn-danger delete-button">Delete</button>
												</div>
												
											</div>
										
										</div>
									
									</div>
									</tr>
									{{/each}}
								</tbody>
							</table>
							<!--Add Product Modal Start-->
					<div class="modal fade bd-example-modal-xl" id="newProductModal" tabindex="- 1" role="dialog" aria-labelledby="myExtraLargeModalLabel" aria-hidden="true">
						<div class="modal-dialog modal-xl">
							<div class="modal-content">
								<div class="modal-header">
									<h5 class="modal-title h4">Add a New Product</h5>
									<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
								</div>
								<form method="post" action="/addProduct" enctype="multipart/form-data">
								<div class="modal-body">
									<div class="form-group">
										<label for="product-name" class="col-form-label addName">Name</label>
										<input type="text" class="form-control" name="name" required>
										<label for="product-description" class="col-form-label addDescription">Description</label>
										<input type="text" class="form-control" name="description" required>
										<label for="product-description" class="col-form-label addColor">Color</label>
										<input type="text" class="form-control" name="color" required>
										<div class="form-group">
											<label for="inputState">Variation</label>
											<select id="inputState" class="form-control addVariation" name="variation">
												<option selected value="XS">XS</option>
												<option value="S">S</option>
												<option value="M">M</option>
												<option value="L">L</option>
												<option value="XL">XL</option>
											</select>
										</div>
										<label for="product-description" class="col-form-label">Quantity</label>
										<input type="number" class="form-control" name="quantity" required>
									</div>
									<div class="form-group">
										<label for="inputState">Category</label>
										<select id="inputState" class="form-control" name="category">
											<option selected value="shirt">Shirt</option>
											<option value="hoodie">Hoodie</option>
											<option value="longsleeve">Longsleeve</option>
											<option value="shorts">Shorts</option>
											<option value="pants">Pants</option>
											<option value="hat">Hat</option>
											<option value="beanie">Beanie</option>
											<option value="bag">Bag</option>
										</select>
									</div>
									<div class="form-row mt-2">
										<div class="col">
											<label for="price">Price</label>
											<input type="number" class="form-control" name="price" required>
										</div>
									</div>
									<div class="container-fluid">
										<div class="form-group mt-3">
											<div class="custom-file">
												<label class="custom-file-label" for="pro-imageadd">Choose Images</label>
												<input type="file" class="form-control custom-file-input" id="pro-imageadd" name="images" accept='image/x-ong,image/gif,image/jpeg' required>
											</div>
										</div>
									</div>
								</div>
								<div class="modal-footer">
									<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
									<button type="submit" class="btn btn-dark">Save changes</button>
								</div>
							</form>
							</div>
						
						</div>
					
					</div>
					<!--Add Product Modal End-->
						</div>
					</div>
					
				</div>
				
			</div>
		</div>
	</section>
	<!--navbar end-->
	<script src="script.js"></script>
</body>
</html>